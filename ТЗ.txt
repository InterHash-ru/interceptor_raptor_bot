бота-перехватчика сообщений в Telegram

Name: INTERCEPTOR RAPTOR BOT
Link: @interceptor_raptor_bot

1. Возможность устанавливать бота на любой аккаунт по токену, при установке запрашивает токен на использование бота, бот должен написать "Введите токен для использования".

1.1 Поддержка бота через главный аккаунт, возможность устанавливать и удалять токены доступа в настройках бота.

1.2 При установке токена для использования другим пользователем, в админском акке бот спрашивает "Введите токены доступа" (можно отправить, как один так и несколько токенов, формат токена 4ab47d5c-24e0-4924-b0a1-574fc39dd417).

1.3 Когда мы отправляем токены, бот записывает дату отправки сообщения с токеном в базе данных,  чтоб по истечению срока жизни токена, через 30 дней бот удалял этот токен из базы данных и доступ закрывался для пользователя у которого он истек.

1.4 Возможность отправлять рекламное сообщение, бот должен спросить "Какое рекламное сообщение вы хотите отправить пользователям?" (поддержка картинки + текст).

1.5 Возможность выставлять частоту публикаций рекламного сообщения в боте. (бот должен спросить "Как часто вы хотите, чтоб публиковалось рекламное сообщение?" — можно указывать часы, дни, или частота в форме меню например: раз в 12 часов, или 2 раза в день)

2. После того, как пользователь, на котором установлен бот, прошли успешную проверку по токену, бот спрашивает первый вопрос "Какие чаты вы хотите отслеживать? (скидываем ему ссылки на тг-чаты в формате @ либо https)

3. После того, как скинули чаты для отслеживания, бот спрашивает второй вопрос "Куда вы хотите пересылать сообщения?" (скидываем ему ссылки на тг-чат в формате @ либо https + поддержка пересылки сообщений на аккаунт, можно указывать несколько)

4. После этого действия, бот спрашивает "Какие ключевые слова вы хотите отслеживать в чатах?" (поддержка проверки сообщений не по подстрокам, а по целым словам или словосочетаниям, например искомое слово "пул", в слове поПУЛярное — подстрока "пул", такие сообщения нам не нужны, на нужно чтоб находило целое слово или словосочетание, проверка происходит в формате нижний  регистр сообщения и нижний регистр искомого слова или словосочетания)

5. После этого, бот должен спросить "Какие слова исключить из пересылки сообщений?" (здесь мы указываем слова, которые могут попадаться в сообщении с ключевыми словами, и если такое есть, то не отправлять сообщение в пересылаемый чат либо аккаунт)

6. Необходимо добавить проверку по пользователям в пересылаемом чате, т.е. если бот переслал в чат сообщение от одного пользователя с ключевым словом, и если вдруг он еще напишет в каком-то другом чате или этом же тоже сообщение с ключевым словом, то в пересылаемом чате должно висеть только 1 сообщение, которое было первым, все остальные сообщения от него должны игнорироваться.

6.. После того, как отправили все настройки боту, бот должен пересылать сообщения в чат либо аккаунт, который мы указали в формате:

Lead: Name Surname (имя пользователя)
Login: @login (username пользователя)
Phone: телефон пользователя если есть в формате +375299999999, если нет телефона пустое поле, либо не выводить это поле
Message: здесь кусок сообщения где встречается ключевое слово, если ключевое слово в самом начале, то формат "key + 3 слова ...", если в середине "... 2 слова + key + 2 слова ...", если в конце "... 3 слова + key"
Link: здесь должна быть ссылка на сообщение в группе где было опубликовано сообщение